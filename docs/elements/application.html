<article-header>Application</article-header>

<article-paragraphs>
    <p>
        Use <br>
        <code class="text-sky-600">Blumilk\BLT\Features\Application</code> context <br>
        or add <br>
        <code class="text-sky-600">Blumilk\BLT\Features\Traits\Application</code> trait to test your application's
        application features.
    </p>
</article-paragraphs>

<article-paragraphs>
    <p>
        In the development and testing of Laravel applications, mocking services is quite important. By mocking
        services, you can isolate and test specific parts of your application without relying on external dependencies.
        This ensures your tests are reliable and focused.
    </p>
    <p>
        This chapter covers the <code>Application</code> trait in the BLT package, which provides methods to mock
        services in your Laravel application during tests. You will learn how to mock individual services and multiple
        services at once using this trait.
    </p>
</article-paragraphs>

<section-header>Mocking individual services</section-header>
<article-paragraphs>
    <p>
        The following example demonstrates how to mock a specified service with a given mock class. This method ensures
        that the specified service is replaced by the mock during the test scenario.
    </p>
</article-paragraphs>

<code-snippet
        gherkin='Given there is "App\Services\NotificationService" service mocked with "App\Mocks\NotificationServiceMock"'
        php='/**
  * @Given there is :service service mocked with :mock
  * @throws BindingResolutionException
  */
 public function thereIsServiceMocked(string $service, string $mock): void'></code-snippet>

<article-paragraphs>
    <p>
        In this example, the <code>NotificationService</code> is replaced with <code>NotificationServiceMock</code>.
        This allows the test to run with the mocked version of the service.
    </p>
</article-paragraphs>

<section-header>Mocking multiple services</section-header>
<article-paragraphs>
    <p>
        The following example demonstrates how to mock multiple services at once using a table to specify the services
        and their respective mocks. This method ensures that each specified service is replaced by the corresponding
        mock during the test scenario.
    </p>
</article-paragraphs>

<code-snippet
        gherkin='Given there are services mocked:
      | service                    | mock                          |
      | App\Services\EmailService  | App\Mocks\EmailServiceMock    |
      | App\Services\PaymentService| App\Mocks\PaymentServiceMock  |'
        php='/**
  * @Given there are services mocked:
  * @throws BindingResolutionException
  */
 public function thereAreServicesMocked(TableNode $table): void'></code-snippet>

<article-paragraphs>
    <p>
        In this example, both the <code>EmailService</code> and <code>PaymentService</code> are replaced with their
        respective mocks, <code>EmailServiceMock</code> and <code>PaymentServiceMock</code>. This allows the test to run
        with the mocked versions of these services.
    </p>
</article-paragraphs>
