<article-header>Session</article-header>

<article-paragraphs>
    <p>
        Use <br>
        <code class="text-sky-600">Blumilk\BLT\Features\Session</code> context <br>
        or add <br>
        <code class="text-sky-600">Blumilk\BLT\Features\Traits\Session</code> trait to test your application's
        session features.
    </p>
</article-paragraphs>

<section-header>Session Methods</section-header>
<article-paragraphs>
    <p>
        The <code>Session</code> trait provides several methods to handle session data within your Laravel application.
        These methods help ensure that your application's session management is functioning as expected.
    </p>
</article-paragraphs>

<article-paragraphs>
    <p>
        This snippet verifies that the session contains the specified errors. It checks if the session flash data has
        the expected error messages.
    </p>
</article-paragraphs>
<code-snippet
        gherkin="Then a session flashes errors:
        | key        | message                       | index |
        | loginError | Invalid password or username. | 0     |"
        php="
    /**
     * @Then a session flashes errors:
     */
    public function sessionFlashesErrors(TableNode $table): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>aSessionFlashesNoErrors</code> method verifies that the session does not contain any errors. This is
        useful for ensuring that the session is clear of errors.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Given a session flashes no errors"
        php="
    /**
     * @Given a session flashes no errors
     */
    public function aSessionFlashesNoErrors(): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionHasTheFollowingData</code> method sets multiple key-value pairs in the session. This is
        useful for populating the session with specific data for testing scenarios.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Given the session has the following data:
        | key      | value          |
        | user_id  | 1              |
        | user_role| admin          |"
        php="
    /**
     * @Given the session has the following data:
     */
    public function theSessionHasTheFollowingData(TableNode $table): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionShouldHaveTheFollowingData</code> method verifies that the session contains the specified
        key-value pairs. This is useful for asserting that the session has the expected data.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Then the session has the following data:
        | key      | value          |
        | user_id  | 1              |
        | user_role| admin          |"
        php="
    /**
     * @Then the session should have the following data:
     */
    public function theSessionShouldHaveTheFollowingData(TableNode $table): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionIsRevoked</code> method invalidates the session. This is useful for scenarios where the
        session needs to be cleared or reset.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Given the session is revoked"
        php="
    /**
     * @Given the session is revoked
     */
    public function theSessionIsRevoked(): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionHasNoData</code> method clears all data from the session. This is useful for ensuring that
        the session starts with no data.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Given the session has no data"
        php="
    /**
     * @Given the session has no data
     */
    public function theSessionHasNoData(): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionFlashesTheFollowingData</code> method sets multiple key-value pairs in the session as flash
        data. This is useful for testing scenarios where session flash data needs to be set.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Given the session flashes the following data:
        | key       | value                |
        | message   | Operation successful |
        | alertType | success              |"
        php="
    /**
     * @Given the session flashes the following data:
     */
    public function theSessionFlashesTheFollowingData(TableNode $table): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionShouldFlashTheFollowingData</code> method verifies that the session contains the specified
        flash data. This is useful for asserting that the session flash data has the expected values.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Then the session flashes the following data:
        | key       | value                |
        | message   | Operation successful |
        | alertType | success              |"
        php="
    /**
     * @Then the session should flash the following data:
     */
    public function theSessionShouldFlashTheFollowingData(TableNode $table): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionShouldHaveKey</code> method verifies that the session contains a specified key. This is
        useful for asserting the presence of specific session keys.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Then the session should have key 'user_id'"
        php="
    /**
     * @Then the session should have key :key
     */
    public function theSessionShouldHaveKey(string $key): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionShouldNotHaveKey</code> method verifies that the session does not contain a specified key.
        This is useful for asserting the absence of specific session keys.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Then the session should not have key 'user_id'"
        php="
    /**
     * @Then the session should not have key :key
     */
    public function theSessionShouldNotHaveKey(string $key): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionShouldHaveKeyWithValue</code> method verifies that a session key contains a specified value.
        This is useful for asserting that session keys have the expected values.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Then the session should have key 'user_role' with value 'admin'"
        php="
    /**
     * @Then the session should have key :key with value :value
     */
    public function theSessionShouldHaveKeyWithValue(string $key, string $value): void"></code-snippet>

<article-paragraphs>
    <p>
        The <code>theSessionForgetsKey</code> method removes a specified key from the session. This is useful for
        scenarios where specific session keys need to be cleared.
    </p>
</article-paragraphs>

<code-snippet
        gherkin="Given the session forgets the key 'user_id'"
        php="
    /**
     * @Given the session forgets the key :key
     */
    public function theSessionForgetsKey(string $key): void"></code-snippet>
